<script>
    $$_setting = ('$$setting' != '$' + '$setting' ? $$setting   : {
        color: { x: 0.05, y: 0.0, z: 0.15, w: 1 }
    } );
    
</script>
/// main content
<canvas id="cnv_$$TID" class="$$css">

</canvas>
/// background script
<script>

    var dy_$$TID;

    dyHtml.scripts([ 
    '/engine/webgl/babylon5.js',
    '/engine/webgl/babylon5.js',
    '/engine/webgl/glbloader.js',
        '/engine/future3d.js',
        '/engine/armour.js',
        '/engine/drawer.js',
        '/engine/models.js'],
        function () {

            requestAnimationFrame(function () {
                if (BABYLON && armour) {
                    dy_$$TID = new armour(first('#cnv_$$TID'));

                    var local = {};

                    var loaderItem = 0;

                    for (var i in $$sceneJsPath) 
                    
                        dyHtml.script($$sceneJsPath[i], function (p, l) {  
                            loaderItem++;

                            for (var j in l) local[j] = l[j];  

                            if (loaderItem == $$sceneJsPath.length ) {

                                
                                    if (local && local.prepare) $$_setting = local.prepare(p.m, $$_setting);

                                    dy_$$TID.create($$_setting);

                                    if (local && local.init) local.init(p.m);

                                    if(TsID[$$TID].ctrl.onready)
                                        TsID[$$TID].ctrl.onready(TsID[$$TID],dy_$$TID );

                            }

                        }, {i:i,m:dy_$$TID}, true)
                }
            })
        })
</script>